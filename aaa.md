【7.接続情報】

6．接続情報        	6.1. 通信条件    		インタフェース設計における通信条件を以下に示す。        	6.1.1. Active/Passive方式    		通信モードについて以下に示す。                                図6.1.1-1　Activeモードの接続イメージ    図6.1.1-2　Passiveモードの接続イメージ            		通信モードが「Active」の場合、以下の手順でコネクションを確立する。    通信モードが「Passive」の場合、以下の手順でコネクションを確立する。    		①クライアント　→　サーバ    :制御コネクション確立    ①クライアント　→　サーバ    :制御コネクション確立    		②クライアント　➝　サーバ    :クライアント側のデータ転送用ポート番号(a)を通知    ②クライアント　←　サーバ    :サーバ側のデータ転送用ポート番号(a)を通知    		③クライアント　←　サーバ    :データコネクション確立(a~20)    ③クライアント　→　サーバ    :データコネクション確立(any～a)    		④クライアント　⇔　サーバ    :データ転送    ④クライアント　⇔　サーバ    :データ転送                    	6.1.2. TCP接続条件    		各連携におけるTCP接続条件を以下に示す。                            	6.1.2.1. 受信(グループ共通IT(施工管理)→グループ共通IT(調達)システム（Ariba/法対応PF）)へ連携する場合    		グループ共通IT(施工管理)からグループ共通IT(調達)への連携におけるTCP接続条件を以下に示す。                        図6.1.2.1-1　受信（グループ共通IT(施工管理)システム→グループ共通IT(調達)システム（Ariba/法対応PF））の連携イメージ                表6.1.2.1-1　受信（グループ共通IT(施工管理)システム→グループ共通IT(調達)システム（Ariba/法対応PF））への連携時のTCP接続条件    	連携パターン番号    連携パターン内容    連携元情報    接続    連携先情報        システム名／業務名    ポート番号    方向						プロトコル						システム名／業務名    ポート番号    	(1)    グループ共通IT(施工管理)　～　流通GWサーバ    グループ共通IT(施工管理)    "制御／
データ転送用"				－				"←
流通GWサーバ
から接続"						ファイル取得						流通GWサーバ    "制御／
データ転送用"				－            	(2)    "流通GWサーバ　～　
データHUB(データ変換機能部)"    流通GWサーバ    "制御／
データ転送用"				22				"←
データHUB
から接続"						"SFTP
(get)"						"データHUB
(データ変換機能部)"    "制御／
データ転送用"				any            	(3)    データHUB(データ変換機能部)  ～　GWサーバ    "データHUB
(データ変換機能部)"    "制御／
データ転送用"				any				"→
データHUB
から接続"						"SFTP
(put)"						GWサーバ    "制御／
データ転送用"				21        "5000
～5200"        	(4)    "GWサーバ　～　
グループ共通IT(調達)（Ariba/法対応PF）"    GWサーバ    "制御／
データ転送用"				any				"→
GWサーバ
から接続"						"SFTP
(put)"						"グループ共通IT(調達)
（Ariba/法対応PF）"    "制御／
データ転送用"				21        ※1            ※1　グループ共通IT(調達)業務アプリケーションのFTPサーバが指定したポート番号            	6.1.2.2. 送信(グループ共通IT(調達)システム（Ariba/法対応PF）→グループ共通IT(施工管理）システム)へ連携    		グループ共通IT(施工管理)システムからグループ共通IT(調達)への連携におけるTCP接続条件を以下に示す。                                                                                                                                                図6.1.2.2-1　送信（グループ共通IT(調達)システム（Ariba/法対応PF）→グループ共通IT(施工管理）システム）の連携イメージ                表6.1.2.2-1　送信（グループ共通IT(調達)システム（Ariba/法対応PF）→グループ共通IT(施工管理）システム）への連携時のTCP接続条件    	連携パターン番号    連携パターン内容    連携元情報    接続    連携先情報        システム名／業務名    ポート番号    方向						プロトコル						システム名／業務名    ポート番号    	(1)    "グループ共通IT(調達)（Ariba/法対応PF）
～　GWサーバ"    "グループ共通IT(調達)
（Ariba/法対応PF）"    "制御／
データ転送用"				21				"←
GWサーバ
から接続"						"SFTP
(get)"						GWサーバ    "制御／
データ転送用"				any        ※1        	(2)    GWサーバ　～　データHUB(データ変換機能部)    GWサーバ    "制御／
データ転送用"				21				"←
データHUB
から接続"						"SFTP
(get)"						データHUB(データ変換機能部)    "制御／
データ転送用"				any        "5000
～5200"        	(3)    "データHUB(データ変換機能部)　
～　流通GWサーバ"    "データHUB
(データ変換機能部)"    "制御／
データ転送用"				any				"→
データHUB
から接続"						"SFTP
(put)"						流通GWサーバ    "制御／
データ転送用"				22            	(4)    流通GWサーバ　～　グループ共通IT(施工管理)    流通GWサーバ    "制御／
データ転送用"				－				"→
流通GWサーバ
から接続"						ファイル配置						グループ共通IT(施工管理)    "制御／
データ転送用"				－                ※1　グループ共通IT(調達)業務アプリケーションのFTPサーバが指定したポート番号            
